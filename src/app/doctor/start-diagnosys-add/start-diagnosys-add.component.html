
<div class="container">
    <h3 style="color:rgb(180, 17, 17); font-family: 'Times New Roman', Times, serif; ">Start Diagnosys</h3>
    <hr>
   
    <div class="form-group">
        <label><b>Appointment Code   </b> </label>
        <input type="text" readonly name ="AppointmentId"
        class="form-control"
        [(ngModel)]="appointment.AppointmentId"/>
        <!-- {{appointment.AppointmentId}} -->
        </div> 
 
   
    <!--Template Driven Form--><!--(ngSubmit) Event -->
    <form name="formDiagnosysData" #startDiaform="ngForm" autocomplete="off"  
    style="color: black; font-family: 'Times New Roman', Times, serif;"
    (ngSubmit)="onSubmit(startDiaform)">

    <!--Employee Id -------------------------------------------->
    <div class="form-group">
        <input type="hidden" readonly name="HistoryId" class="form-control"  
        style="color: black; font-family: 'Times New Roman', Times, serif;"
        [(ngModel)]="doctorService.formDiagnosysData.HistoryId">
    </div>
        
    <!--Diagnosis-------------------------------------------->
    <div class="form-group" >
        <label><b>Diagnosis</b> </label>
        <input type="text" 
        #Diagnosis="ngModel"
        name = "Diagnosis"
        [(ngModel)]="doctorService.formDiagnosysData.Diagnosis"
        class="form-control"
        placeholder="Enter Diagnosis " minlength="3" maxlength="25"
        required
        [ngClass]="{'is-invalid': Diagnosis.touched && Diagnosis.invalid}"/>

    <!--Validation msg-->
    <div class="Validation-error"  *ngIf= "Diagnosis.touched && Diagnosis.invalid">
        <div *ngIf="Diagnosis.errors?.['required']">
            Diagnosis  is Invalid Or Required !.
        </div>
    </div>
    
</div>
    <!--Symptoms---------------------------------------------->
    <div class="form-group">
        <label><b>Symptoms</b></label>
        <input type="text" 
        #Symptoms="ngModel"
        name = "Symptoms"
        [(ngModel)]="doctorService.formDiagnosysData.Symptoms"
        class="form-control"
        placeholder="Enter Symptoms " minlength="3" maxlength="25"
        required
        [ngClass]="{'is-invalid': Symptoms.touched && Symptoms.invalid}"/>

    
    <!--Validation msg-->
   <div *ngIf="Symptoms.errors?.['minlength']">
  Symptoms must be at least 3 characters long.
</div>

</div>
    <!--Date Of Next Visiting-------------------------------------------------->
    <div class="form-group">
        <label><b>Next Visiting Date</b></label>
        <input type="date" 
        #NextVisiting="ngModel"
        name = "NextVisiting"
        [(ngModel)]="doctorService.formDiagnosysData.NextVisiting"
        class="form-control"
        placeholder="Enter Date Of Next Visiting "
        required
        [ngClass]="{'is-invalid': NextVisiting.touched && NextVisiting.invalid}"/>

    
    <!--Validation msg-->
    <div class="Validation-error"  *ngIf= "NextVisiting.touched && NextVisiting.invalid">
        <div *ngIf="NextVisiting.errors?.['required']">
            Date Of Next Visiting is Invalid Or Required !.
        </div>
    </div>
    </div>
    <!--Doctor Note---------------------------------------------->
    <div class="form-group">
        <label><b>Doctor's Note </b></label>
        <input type="text" 
        #DoctorNote="ngModel"
        name = "DoctorNote"
        [(ngModel)]="doctorService.formDiagnosysData.DoctorNote"
        class="form-control"
        placeholder="Enter Doctor Note " minlength="3" maxlength="80" 
        required
        [ngClass]="{'is-invalid': DoctorNote.touched && DoctorNote.invalid}"/>

    
    <!--Validation msg-->
    <div class="Validation-error"  *ngIf= "DoctorNote.touched && DoctorNote.invalid">
        <div *ngIf="DoctorNote.errors?.['required']">
            DoctorNote is Invalid Or Required !.
        </div>
    </div>
</div>
 <!--Date Of DiagnosysDate------------------------------------------------->
 <div class="form-group">
    <label><b>Diagnosys Date:</b></label>
    <input 
      type="date" 
      #DiagnosysDate="ngModel"
      [(ngModel)]="doctorService.formDiagnosysData.DiagnosysDate"
      name = "DiagnosysDate"
      class="form-control"
      placeholder="Enter Date Of Diagnosys"
      required
      [ngClass]="{'is-invalid': DiagnosysDate.touched && DiagnosysDate.invalid}" /> 
  
    <!-- Validation Message -->
    <div class="Validation-error" *ngIf="DiagnosysDate.touched && DiagnosysDate.invalid">
      <div *ngIf="DiagnosysDate.errors?.['required']">
        Diagnosys Date is Invalid 
      </div>
    </div>
  </div>
  
    <!--Doctor Id with Dr name--------------------------------------------->
    <!-- <div class="form-group">
        <label>Reference :</label>
        <select name="Reference" id="Reference" #Reference="ngModel"
                class="form-control validation-error"
                [(ngModel)]="doctorService.formDiagnosysData.Reference" 
                class ="form-control" required>

            <option value="0" selected disabled></option>
            <option *ngFor="let dept of doctorService.appointment=No Reference"
                value="{{dept.DoctorId}}">{{dept.DoctorId}}
            </option>
        </select>
        <div class="validation-error" *ngIf="Reference.touched && Reference.invalid">
        <div *ngIf="Reference.errors?.['required']">
            Doctor Name is required! </div>
        </div>
    </div> -->
           

    <!--AppointmentId-------------------------------------------------
   
<br>

&nbsp;&nbsp;&nbsp;&nbsp;
    <button type="Add Medicine"  class="btn btn-outline-primary" (click)="addmedicines()">
        Add Medicine</button> &nbsp;&nbsp;&nbsp;&nbsp;
      <button type="Add Medicine" class="btn btn-outline-primary" (click)="addlabtests()">
        Add Labtest</button>
&nbsp;&nbsp;&nbsp;&nbsp;<button type="View Test Report" class="btn btn-outline-primary">View Report</button>
<br>
<br>-->
   <!--Submit------------------------------------------------------->
   <div class="form-group">
    <button
      type="submit"
      class="btn btn-primary form-control"
      [disabled]="!startDiaform.valid"
    >
      INSERT
    </button>
  </div>
    <!--ERROR MESSAGE  After SUBMITTING -->
        <div *ngIf="errorMessage" class="error-message validation-error">
            {{errorMessage}}
        </div>

    </form>
</div>
